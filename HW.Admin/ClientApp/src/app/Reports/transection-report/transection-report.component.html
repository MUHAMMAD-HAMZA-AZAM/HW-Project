<div class="container-fluid">
  <div class="contentWrapper">
    <div class="row">
      <div class="col-md-4">
        <div class="card shadow mb-4">
          <div class="card-header bg-primary">
            <h6 class="mainTitle m-0 font-weight-bold border-0" data-toggle="collapse" href="#collapse6" aria-expanded="true">Filter Transection Report</h6>
          </div>
          <div id="collapse6" class="contentWrapper fs-12 show">
            <div class="card-body">
              <form [formGroup]="appValForm">
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label class="fs-12">Select User Type </label>
                      <select class="form-control" formControlName="userTypeId">
                        <option [ngValue]="null" disabled selected hidden>--- Select User Type ---</option>
                        <option value="{{userType.CRole}}">Customer</option>
                        <option value="{{userType.TRole}}">Sole Tradesman</option>
                        <option value="{{userType.ORole}}">Organization</option>
                        <option value="{{userType.SRole}}">Supplier</option>
                      </select>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group">
                      <label class="fs-12">User Id</label>
                      <input type="text" maxlength="20" formControlName="userId" class="form-control" (keypress)="common.numberOnly($event);" />
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label class="fs-12">Select Transection Type </label>
                      <select class="form-control" formControlName="transectionType">
                        <option [ngValue]="null" disabled selected hidden>--- Select Transection Type ---</option>
                        <!--<option value="{{userTransectionTypes.TTransection}}">Top Up</option>-->
                        <option value="{{userTransectionTypes.SDTransection}}">Self Deposit</option>
                        <option value="{{userTransectionTypes.RTransection}}">Referral</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4 inline-downlod-btns">
                    <button type="submit" class="btn btn-sm btn-primary mr-2" [disabled]="!appValForm.valid" (click)="showUserTransectionReport()">Search</button>
                    <button type="reset" class="btn btn-sm btn-primary" (click)="resetForm()">Reset</button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="inline-downlod-btns justify-content-end" >
    <ng-container *ngIf="userRole.allowExport">
      <div class="form-group ml-2">
        <input class="btn btn-primary btn-sm" type="button" value="Download pdf" (click)="DownloadPdf()" />
      </div>
      <div class="form-group ml-2">
        <input class="btn btn-primary btn-sm" type="button" value="Download Excel" (click)="DownloadXlsx()" />
      </div>
      <div class="form-group ml-2">
        <input class="btn btn-primary btn-sm" type="button" value="Download Csv" (click)="exportCSV()" />
      </div>
    </ng-container>
  </div>
  <div class="row">
    <div class="col-md-12">
      <div class="card shadow mb-4" [hidden]="noDataFound">
        <div class="card-header justify-header">
          <h6 class="m-0 font-weight-bold">User Transection Report</h6>
        </div>
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-bordered table-striped table-hover" id="dataTable" width="100%" cellspacing="0" #dataTable>
              <thead>
                <tr>
                  <th width="1%" title="Sr#">Sr#</th>
                  <th width="3%" title="Ledger TransectionId">Ledger TransectionId</th>
                  <th width="3%" title="Transection Type">Transection Type</th>
                  <th width="3%" title="User Name">User Name</th>
                  <th width="3%" title="Amount"> Amount</th>
                  <th width="3%" title="Created On">Created On</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of userTransectionReport;let index = index;">
                  <th>{{index+1}}</th>
                  <td>{{item.leadgerTransectionId }}</td>
                  <td>{{item.transectionType}}</td>
                  <td>{{item.name}}</td>
                  <td>{{item.amount  | number:'1.0':'en-US'}}</td>
                  <td>{{item.createdOn | date: "dd MMM yyy "}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
