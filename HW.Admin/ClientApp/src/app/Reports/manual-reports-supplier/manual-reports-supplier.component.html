<div class="container-fluid">
  <div class="row">
    <div class="col-md-4">
      <h6 class="mainTitle" data-toggle="collapse" href="#collapse1" aria-expanded="true">Supplier Report </h6>
    </div>
  </div>
  <!--<button style="font-size: .775rem !important;margin-bottom:5px" *ngIf="reportFilter" (click)="funReportFilter()" class="btn btn-sm btn-primary">Show Filter</button>-->
  <div id="collapse1" class="contentWrapper fs-12 show">
    <form #checkParent #f="ngForm" novalidate>
      <div class="row">
        <div class="col-md-4">
          <label for="customerName">Supplier Name</label>
          <div class="input-group">
            <input type="text" autocomplete="off" maxlength="40" id="supplierName" name="supplierName" class="form-control" [(ngModel)]="supplierName" placeholder="Supplier Name" />
            <div class="input-group-prepend">
              <div class="input-group-text">
                <input type="radio" value="1" id="start" (click)="getRadioValue($event)" name="groupOfDefaultRadios" checked>
                <label class="" for="start">Start</label>
                <input type="radio" class="" (click)="getRadioValue($event)" value="2" id="anyWhere" name="groupOfDefaultRadios">
                <label class="" for="anyWhere">Anywhere</label>
                <input type="radio" class="" value="3" id="end" (click)="getRadioValue($event)" name="groupOfDefaultRadios">
                <label class="" for="end">End</label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row mt-2">
        <div class="col-md-2">
          <label class="">Mobile</label>
          <input type="text" autocomplete="off" maxlength="11" id="mobile" placeholder="Mobile" pattern="^[0-9]{4}[0-9]{7}$" [(ngModel)]="mobile" #mobileNumber="ngModel" (keypress)="numberOnly($event)"  name="mobile" class="form-control" />
          <div *ngIf="mobileNumber?.errors" class="text-danger">
            <div *ngIf="mobileNumber.invalid && (mobileNumber.dirty || mobileNumber.touched)" class="text-danger">
              <label class="fs-12" style="margin-top:10px" *ngIf="mobileNumber.errors?.pattern">* Enter valid 11 digit mobile number.</label>
            </div>
          </div>
        </div>
        <div class="col-md-2">
          <label class="">CNIC</label>
          <input type="text" id="cnic" autocomplete="off" maxlength="13" placeholder="CNIC" [(ngModel)]="cnic" pattern="^[0-9]{5}[0-9]{7}[0-9]$" #cnicNumber="ngModel"  (keypress)="numberOnly($event)" name="cnic" class="form-control" />
          <div *ngIf="cnicNumber?.errors" class="text-danger">
            <div *ngIf="cnicNumber.invalid && (cnicNumber.dirty || cnicNumber.touched)" class="text-danger">
              <label class="fs-12" style="margin-top:10px" *ngIf="cnicNumber.errors?.pattern">* Enter valid 13 digit cnic number.</label>
            </div>
          </div>
        </div>
      </div>

      <div class="row mt-2">
        <div class="col-md-2">
          <label class="">Start Date</label>
          <input type="date" id="startDate" [(ngModel)]="startDate" name="startDate" class="form-control" />
          <div *ngIf="submittedApplicationForm" class="invalid-feedback">
            <div><p>{{startDateErrorMessage}}</p></div>
          </div>
        </div>
        <div class="col-md-2">
          <label class="">End Date</label>
          <input type="date" id="endDate" [(ngModel)]="endDate" name="endDate" class="form-control" />
          <div *ngIf="submittedApplicationForm" class="invalid-feedback">
            <div><p>{{endDateErrorMessage}}</p></div>
          </div>
        </div>
      </div>
      <div class="row mt-2">
        <div class="col-md-2">
          <label class="">Supplier Type</label>
          <ng-multiselect-dropdown placeholder="Supplier Types" style="display:inline; vertical-align:top"
                                   [settings]="supplierdropdownSettings"
                                   [data]="categoryList"
                                   [(ngModel)]="selectedSupplierType"
                                   name="selectedSupplierType"
                                   (onSelect)="onItemSelect($event)"
                                   (onSelectAll)="onItemSelectAll($event)"
                                   (onDeSelect)="OnItemDeSelect($event)"
                                   (onDeSelectAll)="OnItemDeSelectALL($event)"
                                   (OnDeSelect)="OnItemDeSelect($event)">
          </ng-multiselect-dropdown>
        </div>
        <div class="col-md-2">
          <label class="">City</label>
          <ng-multiselect-dropdown placeholder="City" style="display:inline;"
                                   [settings]="dropdownListForCity"
                                   [data]="cityList"
                                   [(ngModel)]="selectedCities"
                                   name="selectedCities"
                                   (onSelect)="onCitySelect($event)"
                                   (onSelectAll)="onCitySelectAll($event)"
                                   (onDeSelect)="onCityDeSelect($event)"
                                   (onDeSelectAll)="onCityDeSelectALL($event)"
                                   (OnDeSelect)="onCityDeSelect($event)">
          </ng-multiselect-dropdown>
        </div>

      </div>
      <div class="row mt-3">
        <div class="col-md-2 addressSearch">
          <div class="form-group  ">
            <label for="businessAddress">Location</label>
            <input type="text" class="form-control desc" placeholder="Location" maxlength="50" [(ngModel)]="location" id="location" name="location" autocomplete="off" (keyup)="serachAddress(location)" autocapitalize="off" spellcheck="off" #search />
          </div>
          <div class="addressSearchResult" *ngIf="isAddress" style="width:85% !important;">
            <ul>
              <li *ngFor="let address of searchedAddress">
                <a (click)="setAddressValue($event)">{{address.customerAddress}}</a>
              </li>
              <li *ngIf="!locationSearchKeyMatch" class="text-danger text-center">No location Found</li>
            </ul>
          </div>

        </div>
      </div>
      <div class="row mt-1">
        <div class="col-md-4">
          <div class="form-group">
            <label>User Type</label>
            <div class="input-group-prepend">
              <div class="input-group-text user-type">
                <input type="radio" value="3" id="all" (click)="getRadioValueut($event)" name="groupOfDefaultRadios1" checked>
                <label class="" for="all">All User</label>
                <input type="radio" value="1" id="real" (click)="getRadioValueut($event)" name="groupOfDefaultRadios1">
                <label class="" for="real">Real User</label>
                <input type="radio" class="" (click)="getRadioValueut($event)" value="2" id="test" name="groupOfDefaultRadios1">
                <label class="" for="test">Test User</label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row mt-1">
        <div class="col-md-4">
          <div class="form-group">
            <label>Email Verification Type</label>
            <div class="input-group-prepend">
              <div class="input-group-text user-type">
                <input type="radio" value="1" id="all1" (click)="getRadioValueemail($event)" name="groupOfDefaultRadios2" checked>
                <label class="" for="all1">All User</label>
                <input type="radio" value="2" id="real1" (click)="getRadioValueemail($event)" name="groupOfDefaultRadios2">
                <label class="" for="real1">Email Verified</label>
                <input type="radio" class="" (click)="getRadioValueemail($event)" value="3" id="test1" name="groupOfDefaultRadios2">
                <label class="" for="test1">Email Unverified</label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row mt-1">
        <div class="col-md-4">
          <div class="form-group">
            <label>Mobile Verification Type</label>
            <div class="input-group-prepend">
              <div class="input-group-text user-type">
                <input type="radio" value="1" id="all2" (click)="getRadioValuemobile($event)" name="groupOfDefaultRadios3" checked>
                <label class="" for="all2">All User</label>
                <input type="radio" value="2" id="real2" (click)="getRadioValuemobile($event)" name="groupOfDefaultRadios3">
                <label class="" for="real2">Mobile Verified</label>
                <input type="radio" class="" (click)="getRadioValuemobile($event)" value="3" id="test2" name="groupOfDefaultRadios3">
                <label class="" for="test2">Mobile Unverified</label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-4 inline-downlod-btns">
          <div class="form-group">
            <input type="submit" value="Search" class="btn btn-primary btn-sm" (click)="SupplierCustomeReportS()" [disabled]="!f.valid" />
          </div>
          <div class="form-group">
            <input class="btn btn-primary btn-sm" type="submit" (click)="resetForm()" value="Reset" />
          </div>
          <ng-container *ngIf="userRole.allowExport">
            <div class="form-group">
              <input *ngIf="SupplierList.length>0" type="button" class="btn btn-primary btn-sm" value="Download pdf" (click)="DownloadPdf()" />
            </div>
            <div class="form-group">
              <input *ngIf="SupplierList.length>0" class="btn btn-primary btn-sm" type="button" value="Download Excel" (click)="DownloadXlsx()" />
            </div>
            <div class="form-group">
              <input *ngIf="SupplierList.length>0" class="btn btn-primary btn-sm" type="submit" value="Download csv" (click)="exportCSV()" />
            </div>
          </ng-container>
        </div>
      </div>
    </form>
  </div>

  <div id="canvas">
    <div class="card shadow mb-4" [hidden]="!showTable">
      <div class="card-header justify-header">
        <h6 class="m-0 font-weight-bold">Supplier List</h6>
        <label class="fs-12 m-0  text-right">Total. {{completeList}}</label>
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-bordered table-striped table-hover" id="dataTable" width="100%" cellspacing="0" #dataTable>
            <thead>
              <tr>
                <th title="Supplier Id" width="1%">SID</th>
                <th width="10%">Name</th>
                <th width="5%">Supplier Type</th>
                <th width="3%">Mobile</th>
                <th width="15%">Address</th>
                <!--<th width="7%">Last Active</th>-->
                <th width="2%">CNIC</th>
                <th class="dc-width-6">Created Date</th>
                <th width="3%">City</th>
                <th width="1%" title="User Type" >UT</th>
                <th width="2%" title="Email Verifyed">EV</th>
                <th width="2%" title="Mobile Verifyed">MV</th>
                <!--<th width="15%">Last Modified</th>-->
              </tr>
            </thead>
            <tbody class="table-content-fs">
              <tr *ngFor="let supplier of SupplierList">
                <td>{{supplier.supplierId}}</td>
                <td>{{supplier.firstName}} {{supplier.lastName}}</td>
                <td>{{supplier.supplierType}}</td>
                <td>{{supplier.mobileNumber}}</td>
                <td>{{supplier.businessAddress}}</td>

                <!--<td>{{supplier.lastActive | date: "dd MMM yyy"}}</td>-->
                <td>{{supplier.cnic}}</td>
                <td>{{supplier.createdOn | date: "dd MMM yyy"}}</td>
                <td>{{supplier.cityName}}</td>
                <td>{{supplier.isTestUser ? 'Test' : 'Real'}}</td>
                <td *ngIf="supplier.emailConfirmed== true ">Yes</td>
                <td *ngIf="supplier.emailConfirmed!= true ">No</td>
                <td *ngIf="supplier.phoneNumberConfirmed== true ">Yes</td>
                <td *ngIf="supplier.phoneNumberConfirmed!= true ">No</td>

                <!-- <td>{{supplier.modifiedOn | date: "dd MMM yyy hh : mm : a"}}</td>-->
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  


  <div class="row">
    


    <div class="col-md-4">
      


      <p *ngIf="showNullMessage" class="text-danger">No result found.</p>
    </div>
  </div>
</div>
