<div class="container-fluid">
  <div class="page-header">
    <div class="row">
      <div class="col-12">
        <div class="page-header-left">
          <h3>
            Withdraw Amount
          </h3>
        </div>
      </div>
    </div>
  </div>
<div *ngIf="!isAmountValid">
  <div class="row">
    <div class="col-12">
      <div class="form-group mb-1">
        <label>Current Balance <span class="font-weight-bold" style="color: var(--greenClr)">({{walletAmount}})</span></label>
      </div>
    </div>
    <div class="col-sm-8">
      <div class="form-group">
        <input type="text" inputmode="numeric" minlength="3" step="1.00" maxlength="10"   (input)="getEnteredAmount($event.target.value)"
  (keypress)="AllowNonZeroIntegers($event)" class="form-control" placeholder="Enter Amount" [(ngModel)]="amount" pattern="^[0-9]{3,10}$" />
        <label *ngIf="isEmptyAmount" class="text-danger fs-12">Enter Amount</label>
        <label *ngIf="invalidAmount" class="text-danger fs-12">Invalid Amount</label>
        <label *ngIf="withdrawRangeInvalid" class="text-danger fs-12">Invalid Amount</label>
      </div>
    </div>
    <div class="col-sm-4">
      <div class="form-group">
        <button type="submit" class="btn btn-success" (click)="checkLoggedUserExist()">Withdraw</button>
        <!--[disabled]="withdrawRangeInvalid"-->
      </div>
    </div>
  </div>
</div>
  
<div *ngIf="isAmountValid">
  <h5 class="mb-2">Supplier Details</h5>
  <form [formGroup]="appValForm">
    <div class="row">
      <div class="col-12 col-sm-6">
        <div class="form-group">
          <label>Name</label>
          <input type="text" placeholder="Name" class="form-control" disabled="disabled"  value="{{loggedUserDetails.firstName}}" />
        </div>
      </div>
      <div class="col-12 col-sm-6">
        <div class="form-group">
          <label>Mobile Number</label>
          <input type="text" inputmode="numeric" formControlName="mobileNumber" [ngClass]="{'is-invalid' : submittedApplicationForm && f.mobileNumber.errors}" maxlength="11" min="11" placeholder="Enter Mobile Number" class="form-control" (keypress)="numberOnly($event)" />
          <div *ngIf="submittedApplicationForm && f.mobileNumber?.errors" class="invalid-feedback">
            <div *ngIf="f.mobileNumber.errors.required">Enter Mobile Number</div>
            <div *ngIf="f.mobileNumber.errors.minlength">Invalid Mobile Number.</div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12 col-sm-6">
        <div class="form-group">
          <label>Amount</label>
          <input type="text" placeholder="amount" disabled="disabled" class="form-control" value="{{amount}}" />
        </div>
      </div>
      <div class="col-12 col-sm-6">
        <div class="form-group">
          <label>CNIC</label>
          <input type="text" inputmode="numeric" formControlName="cnic" [ngClass]="{'is-invalid' : submittedApplicationForm && f.cnic.errors}" maxlength="13" min="13" placeholder="Enter CNIC" class="form-control" (keypress)="numberOnly($event)" />
          <div *ngIf="submittedApplicationForm && f.cnic?.errors" class="invalid-feedback">
            <div *ngIf="f.cnic.errors?.required">Enter CNIC</div>
            <div *ngIf="f.cnic.errors?.minlength">Invalid CNIC Number.</div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <button type="submit" class="btn btn-primary" (click)="proceedPayment()">Request Withdrawal</button>
      </div>
    </div>
    <div class="row">
      <div class="col-12 mt-3">
        <label *ngIf="isProceedPayment" class="text-success">Your Request has been sent To HoomWork.</label>
        <label *ngIf="isPendingRequest" class="text-danger">Your Request already has been sent To HoomWork.</label>
      </div>
    </div>
  </form>
</div>
</div>

<!----------------------------  Check User AllGood Status ------------------------->

<ng-template #blockSupplierMessageModal let-modal>
  <div class="modal-header">
    <h3 class="modal-title fw-bold" style="color: var(--headingClr);">Account Blocked</h3>
  </div>
  <div class="modal-body">
    <p>Please contact with customer support. <strong style="color: var(--greenClr);">PH:+92309-9994531</strong></p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-danger" (click)="modal.close('Close click')">close</button>
  </div>
</ng-template>