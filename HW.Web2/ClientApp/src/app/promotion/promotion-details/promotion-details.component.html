<div class="heading-bar d-flex align-items-center" style="background:url('../../../assets/img/pro_bg.png')">
  <div class="container">
    <h1 class="py-3 laila-font text-white">{{campaignName}} Detail</h1>
  </div>
</div>
<div class="container pt-4">
  <!--<h4 class="text-uppercase " style="color:var(--mheadingClr)">{{campaignName}} Detail</h4>-->


  <div class="row mt-3 flex-column-reverse flex-md-row">
    <div class="col-lg-7 col-md-8">
      <div class="d-flex flex-wrap justify-content-between align-items-center mb-3">
        <h4 style="color: var(--headingClr)">{{promoDetails?.name}}</h4>
        <div>
          <p class="m-0">Skill Name: <a [routerLink]="['/User/JobQuotes/step1']" [queryParams]="{skillId:promoDetails?.skillId}" class="btn btn-success ml-2">{{promoDetails?.skillName}}</a></p>
        </div>
      </div>
      <div class="promo-image-wrapper">
        <a [routerLink]="['/User/JobQuotes/step1']" [queryParams]="{skillId:promoDetails?.skillId}">
          <img style="cursor:pointer" [src]="common.transform(promoDetails?.image)" />
        </a>
      </div>
      <div class="mt-3" [innerHTML]="promoDetails?.description"></div>
    </div>
    <div class="col-lg-5 col-md-4 ">
      <div class="d-content-left-side">
        <div class="quote-details-wrapper mb40">
          <div class="quotes-details">
            <form [formGroup]="appValForm">
              <h5 class="mb-4">WHAT KIND OF TRADESMAN DO YOU NEED?</h5>
              <div class="row" *ngIf="campaignType != campaignTypeName.Promotion ">
                <div class="col-lg-12">
                  <div class="form-group">
                    <label>Choose Category</label>
                    <select class="form-control" formControlName="skillId" [ngClass]="{ 'is-invalid': f.skillId.invalid && (f.skillId.touched || f.skillId.dirty )}" disabled>
                      <option [value]="null" selected disabled>----------- Select Option ------------</option>
                      <option *ngFor="let item of listOfSkills" [value]="item.id">{{item.value}}</option>
                    </select>
                    <div *ngIf="f.skillId?.errors">
                      <div *ngIf="f.skillId.invalid && (f.skillId.touched || f.skillId.dirty)">
                        <small class="text-danger" *ngIf="f.skillId.errors?.required">Please select category.</small>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-lg-12">
                  <div class="form-group">
                    <label>Choose SubCategory</label>
                    <select class="form-control" formControlName="subSkillId" [ngClass]="{ 'is-invalid': f.subSkillId.invalid && (f.subSkillId.touched || f.subSkillId.dirty )}">
                      <option value="null" selected disabled>----------- Select Option ------------</option>
                      <option *ngFor="let item of listOfSubSkills" [value]="item.id">{{item.value}}</option>
                    </select>
                    <div *ngIf="f.subSkillId?.errors">
                      <div *ngIf="f.subSkillId.invalid && (f.subSkillId.touched || f.subSkillId.dirty)">
                        <small class="text-danger" *ngIf="f.subSkillId.errors?.required">Please select subcategory.</small>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-12">
                  <div class="form-group">
                    <label>Name</label>
                    <input type="text" maxlength="40" class="form-control" placeholder="Enter your name" formControlName="name" (keypress)="common.charOnly($event)" [ngClass]="{ 'is-invalid': f.name.invalid && (f.name.touched || f.name.dirty )}" />
                    <div *ngIf="f.name?.errors">
                      <div *ngIf="f.name.invalid && (f.name.touched || f.name.dirty)">
                        <small class="text-danger" *ngIf="f.name.errors?.required">Please enter name.</small>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-lg-12">
                  <div class="form-group">
                    <label>Mobile Number</label>
                    <input type="text" maxlength="11" class="form-control" placeholder="Enter Mobile Number" formControlName="phoneNumber" (keypress)="common.numberOnly($event)" [ngClass]="{ 'is-invalid': f.phoneNumber.invalid && (f.phoneNumber.touched || f.phoneNumber.dirty )}" />
                    <div *ngIf="f.phoneNumber?.errors">
                      <div *ngIf="f.phoneNumber.invalid && (f.phoneNumber.touched || f.phoneNumber.dirty)">
                        <small class="text-danger" *ngIf="f.phoneNumber.errors?.required">please enter mobile number.</small>
                        <small class="text-danger" ngIf="f.phoneNumber.errors?.pattern"> Please provide a valid 11 digit phone number</small>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!--<div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    <label>Budget (Rs.)</label>
                    <input type="number" minlength="2" step="1.00" maxlength="10" (keypress)="AllowNonZeroIntegers($event)" class="form-control" placeholder="Enter Your Budget" pattern="^[0-9]{2,10}$" formControlName="budget" [ngClass]="{ 'is-invalid': f.budget.invalid && (f.budget.touched || f.budget.dirty )}" />
                    <div *ngIf="f.budget?.errors">
                      <div *ngIf="f.budget.invalid && (f.budget.touched || f.budget.dirty)">
                        <small class="text-danger" *ngIf="f.budget.errors?.required">Enter budget</small>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <label>Expected Start Date</label>
                    <input type="date"  class="form-control" formControlName="startedDate" min={{maxdate1}} [ngClass]="{ 'is-invalid': f.startedDate.invalid && (f.startedDate.touched || f.startedDate.dirty )}" />
                    <div *ngIf="f.startedDate?.errors">
                      <div *ngIf="f.startedDate.invalid && (f.startedDate.touched || f.startedDate.dirty)">
                        <small class="text-danger" *ngIf="f.startedDate.errors?.required">Enter Start Date </small>
                      </div>
                    </div>
                  </div>
                </div>
              </div>-->
              <div class="row">
                <div class="col-xl-12">
                  <div class="form-group">
                    <button type="button" class="px-5 btn nlp-green-btn px-4" (click)="postJob()">Book Now</button>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

<!--------------------------------------------- Book Now Message Modal --------------------------------------->

<div class="modal fade custom-model-style" bsModal #bookNowMessageModal="bs-modal" id="bookNowMessageModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content px-4 py-4">
      <div class="modal-header p-0">
        <h5 class="modal-title" id="exampleModalLongTitle" style="color:var(--greenClr)">Success</h5>
      </div>
      <div class="modal-body p-0 mt-2">
        <p class="fos-14 mb-1" style="color:var(--headingClr)">We have received your request and would like thank you for booking with us. </p>
      </div>
      <div class="modal-footer mt-2 p-0">
        <button type="button" class="btn mp-outine-btn" (click)="closeModal()">Ok</button>
      </div>
    </div>
  </div>
</div>

<ng-template #promoContent let-c="close" let-d="dismiss">
  <div class="p-4">
    <div class="modal-header p-0">
      <h6 class="modal-title" id="exampleModalLongTitle" style="color: var(--headingClr);">Success</h6>
      <hr class="hl mt-0">
    </div>
    <div class="modal-body p-0 mt-3">
      <small class="d-block">We have received your request and would like thank you for booking with us. </small>
    </div>
    <div class="modal-footer p-0 mt-3">
      <button type="button" class="mp-outine-btn mt-3" (click)="d('Cros click');p.close();">OK</button>
    </div>
  </div>
</ng-template>
