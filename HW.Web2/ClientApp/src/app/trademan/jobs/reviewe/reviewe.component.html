<!--------------------------------------------- New Theme Jobs Review Design ----------------------------------------------------------------------->

<div class="d-content-left-side">
  <h2 class="heading-dashboad mb-3 mb-lg-4">Completed Task Details</h2>
  <div class="quote-details-wrapper mb40">
    <div class="quotes-details">
      <form>
        <fieldset>
          <div class="row">
            <div class="col-xl-6 col-lg-6">
              <div class="form-group">
                <label>Task Title</label>
                <input type="text" class="form-control" maxlength="40" value="{{jobdetail.jobTitle}}" disabled />
              </div>
            </div>
            <div class="col-xl-6 col-lg-6">
              <div class="form-group">
                <label>Task Start date</label>
                <input type="text" class="form-control" value="{{jobdetail.jobStartedDate |date : 'dd MMM yyyy'}}" disabled />
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xl-6 col-lg-6">
              <div class="form-group">
                <label>Task Finish Date</label>
                <input type="text" class="form-control" value="{{jobdetail.jobFinishDate |date : 'dd MMM yyyy'}}" disabled />
              </div>
            </div>
            <div class="col-xl-6 col-lg-6">
              <div class="form-group">
                <label>Payment Made By</label>
                <input type="text" class="form-control" value="Customer" disabled />
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xl-12 col-lg-12">
              <div class="form-group">
                <label>Task Address</label>
                <input type="text" class="form-control" value="{{address}}" disabled />
              </div>
            </div>
            <!--<agm-map class="border" style="width:100%; height:300px;" [latitude]="latitude" [longitude]="longitude" [zoom]="zoom">
            <agm-marker [latitude]="latitude" [longitude]="longitude">
              <agm-info-window #infowindow>
                <div  style="width:250px">
                  <div class="card">
                    <div>
                      <strong>Job Address</strong>
                      <p>{{address}}</p>
                    </div>
                  </div>
                </div>
              </agm-info-window>
            </agm-marker>
          </agm-map>-->
            <!--</div>-->
          </div>

          <div class="d-flex justify-content-end">
            <div class="form-group mr-2">
              <button class="btn mp-outine-btn" id="updateBtn" (click)="CallBackPopup(jobdetail.jobQuotationId,jobdetail.customerId)">Request A Callback</button>
            </div>  
              <div class="form-group">
                <button class="btn mp-outine-btn" id="updateBtn" *ngIf="jobdetail.rating == 0"  (click)="FeedbackPopup()">Request Feedback</button>
              </div>
               </div>
        </fieldset>

      </form>
    </div>
    <!--<ng-template #customerFeedBack>-->
      <div class="tp-rf mb-1 mt-4" *ngIf="jobdetail.rating > 0">
        <div class="mb-3 d-flex justify-content-between align-items-center">
          <h5 class="text-capitalize" style="color:var(--headingClr)">Feedback</h5>
        </div>
        <div class="tp-ufeed-wrapper" style="background: var(--bgClr);">
          <div class="row">
            <div class="col-sm-6 col-lg-4">
              <div class="d-flex align-items-center align-items-md-start">
                <div class="fu-rating">
                  <p>{{jobdetail.customerName}}</p>
                  <div class="d-flex">
                    <div class="tm-rating pr-2">
                      <ng-container *ngFor="let items of [0,1,2,3,4]; let i = index">
                        <i class="fa-star" [ngClass]="(i < jobdetail.rating)?'fas' : 'far' "></i>
                      </ng-container>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-6 offset-lg-4 col-lg-4 d-none justify-content-end">
              <div>
                <span class="mr-2"><i class="mr-1 fas fa-calendar"></i>12/19/2021</span>
                <span><i class="mr-1 fas fa-clock"></i>18:09 am</span>
              </div>
            </div>
          </div>
          <div class="rf-text">
            <p class="mt-1 mt-sm-3">
              {{jobdetail?.comment}}
            </p>
          </div>
        </div>
      </div>
    <!--</ng-template>-->
  </div>
</div>



<div bsModal #CallBackModel="bs-modal" class="modal fade custom-model-style" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content px-4 py-4">
      <div class="modal-header p-0">
        <h6 class="modal-title" id="exampleModalLongTitle" style="color: var(--headingClr);">AWATING FEEDBACK</h6>
        <hr class="hl mt-0">
      </div>
      <div class="modal-body p-0 mt-3">
        <h2 class="c-green font-weight-bold mb-3">THANK YOU</h2>
        <small class="d-block">Your request has been sent. Soon you will receive response.</small>
      </div>
      <div class="modal-footer p-0">
        <button type="button" class="mp-outine-btn" data-dismiss="modal" (click)="CloseCallBack()">OK</button>
      </div>
    </div>
  </div>
</div>

<div bsModal #FeedbackModel="bs-modal" class="modal fade custom-model-style" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content px-4 py-4">
      <div class="modal-header p-0">
        <h6 class="modal-title" id="exampleModalLongTitle" style="color: var(--headingClr);">AWATING FEEDBACK</h6>
        <hr class="hl mt-0">
      </div>
      <div class="modal-body p-0 mt-3">
        <h2 class="c-green font-weight-bold mb-3">THANK YOU</h2>
        <small class="d-block">Your request has been sent. Soon you will receive response.</small>
      </div>
      <div class="modal-footer p-0">
        <button type="button" class="mp-outine-btn" data-dismiss="modal" (click)="CloseFeedback()">OK</button>
      </div>
    </div>
  </div>

</div>
