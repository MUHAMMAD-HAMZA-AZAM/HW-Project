<div class="heading-bar d-flex align-items-center">
  <div class="container">
    <h1 class="py-3 laila-font text-white">create account</h1>
  </div>
</div>
<div class="container">
  <div class="nd-sign-iu">
    <div class="row mt-2 pt-2 mt-sm-3 pt-sm-3 mt-lg-5 pt-lg-5 flex-column-reverse flex-lg-row">
      <div class="mt-5 mt-lg-0 col-12 col-lg-6 col-xl-7">
        <div class="ls-content">
          <ng-container *ngIf="check.U; else tradesmanImg">
            <div class="banner">
              <img src="/assets/img/HW-CUS-Registration.png" />
            </div>
          </ng-container>
          <ng-template #tradesmanImg>
            <div class="banner">
              <img src="/assets/img/HW-TRD-Registration.png" />
            </div>
          </ng-template>
          <h2 class="mt-3">New to Hoomwork?</h2>
          <p class="mt-3 mb-3">Get free quotes from 4,000+ rated local tradesmen<br> for any job around the home.</p>
          <ng-container *ngIf="check.U; else tradesman">
            <div class="d-flex download-btn">
              <div>
                <a href="https://play.google.com/store/apps/details?id=com.User.HW" target="_blank"><img src="/assets/img/andriod-btn.png" /></a>
              </div>
              <div>
                <a href="https://apps.apple.com/us/app/hoomwork-homes/id1490813771?ls=1" target="_blank"><img src="/assets/img/apple-btn.png" /></a>
              </div>
            </div>
          </ng-container>
          <ng-template #tradesman>
            <ng-container *ngIf="check.T; else supplier">
              <div class="d-flex download-btn">
                <div>
                  <a href="https://play.google.com/store/apps/details?id=com.TradesmanApp.HW" target="_blank"><img src="/assets/img/andriod-btn.png" /></a>
                </div>
                <div>
                  <a href="https://apps.apple.com/gb/app/hoomwork-trades/id1490237957" target="_blank"><img src="/assets/img/apple-btn.png" /></a>
                </div>
              </div>
            </ng-container>
          </ng-template>
          <ng-template #supplier>
            <div class="d-flex download-btn">
              <div>
                <a href="https://play.google.com/store/apps/details?id=com.SupplierApp.HW" target="_blank"><img src="/assets/img/andriod-btn.png" /></a>
              </div>
              <div>
                <a href="https://apps.apple.com/gb/app/hoomwork-supply/id1495763086" target="_blank"><img src="/assets/img/apple-btn.png" /></a>
              </div>
            </div>
          </ng-template>
        </div>
      </div>
      <div class="col-12 col-lg-6 col-xl-5">
        <div class="rs-content quotes-details">
          <div class="row">
            <div class="col-12">
              <h2 class="mb-4">Welcome To Hoomwork</h2>
            </div>
          </div>
          <div *ngIf="check.U" class="social-btn-wrapper mb-4 mb-sm-5">
            <div class="row no-gutters">
              <div class="col-12 col-sm-6 mb-2 mb-sm-0">
                <button class="btn social-btn btn-block" (click)="signInWithFB()" style="background: var(--fbClr);">
                  <i class="fab fa-facebook-f"></i>
                  <span>signup with Facebook</span>
                </button>
              </div>
              <div class="col-12 col-sm-6">
                <button class="btn social-btn btn-block" (click)="signInWithGoogle()" style="background: var(--gmClr);">
                  <i class="fab fa-google"></i>
                  <span>signup with Gmail</span>
                </button>
              </div>
            </div>
          </div>

          <form [formGroup]="appValForm">
            <!--First and Last Name-->
            <div class="row no-gutters">
              <div class="col-12 col-sm-6">
                <div class="form-group">
                  <input type="text" autofocus autocomplete="false" [readonly]="disableInput"
                         maxlength="18" (keypress)="charOnly($event)" pattern="[a-zA-Z][a-zA-Z ]+[a-zA-Z ]$" class="form-control"
                         formControlName="firstName" [ngClass]="{ 'is-invalid':submitted &&  f.firstName.errors}" placeholder="First Name">
                  <span class="text-danger" *ngIf=" submitted && f.firstName.errors?.required">{{firstNameErrorMessage}}</span>
                </div>
              </div>
              <div class="col-12 col-sm-6">
                <div class="form-group">
                  <input type="text" autocomplete="false" [readonly]="disableInput"
                         (keypress)="charOnly($event)" class="form-control" pattern="[a-zA-Z][a-zA-Z ]+[a-zA-Z ]$" maxlength="18"
                         formControlName="lastName" [ngClass]="{ 'is-invalid':submitted &&  f.lastName.errors}" placeholder="Last Name">
                  <span class="text-danger" *ngIf=" submitted && f.lastName.errors?.required">{{lastNameErrorMessage}}</span>
                </div>
              </div>
            </div>
            <!--Email and Phone-->
            <div class="row no-gutters">
              <div class="col-12" [ngClass]="{'col-sm-6' : !check.U}">
                <div class="form-group">
                  <input type="text" autocomplete="off" maxlength="40" [ngClass]="{ 'is-invalid':submitted &&  f.emailAddress.errors}"
                         [readonly]="disableInput" class="form-control" formControlName="emailAddress" placeholder="Email">
                  <span class="text-danger" *ngIf=" submitted && f.emailAddress.errors?.pattern">Invalid input</span>
                  <!--[ngClass]="{ 'is-invalid':submitted &&  f.emailAddress.errors , 'is-valid' : !f.emailAddress.errors }" placeholder="Email">-->
                  <!--<span class="text-danger" *ngIf=" submitted && f.emailAddress.errors?.required">{{emailErrorMessage}}</span>-->
                </div>
              </div>
              <div class="col-12" [ngClass]="{'col-sm-6' : !check.U}">
                <div class="form-group">
                  <input type="text" autocomplete="false" class="form-control" inputmode="numeric"
                         (keypress)="numberOnly($event)" maxlength="11" formControlName="phoneNumber"
                         [ngClass]="{ 'is-invalid': submitted &&  f.phoneNumber.errors}" placeholder="Phone">
                  <div *ngIf="f.phoneNumber?.errors" class="invalid-feedback">
                    <span class="text-danger" *ngIf="f.phoneNumber.errors?.required && submitted">Please enter your phone number</span>
                    <span class="text-danger" *ngIf="submitted && f.phoneNumber.errors?.pattern">Input allows only number</span>
                  </div>

                </div>
              </div>

            </div>

            <ng-container *ngIf="!check.U">
              <!--CNIC-->
              <div class="row">
                <div class="col-12">
                  <div class="form-group">
                    <input type="text" inputmode="numeric" autocomplete="false" maxlength="13"
                           (keypress)="numberOnly($event)" class="form-control" formControlName="cnic" placeholder="CNIC">
                    <!--[ngClass]="{ 'is-invalid': submitted &&  f.cnic?.errors  , 'is-valid' : !f.cnic?.errors }"
                    (keypress)="numberOnly($event)" class="form-control" id="cnic" formControlName="cnic" placeholder="CNIC">-->
                    <!--<div *ngIf="f.cnic?.errors" class="invalid-feedback">
                      <span class="text-danger" *ngIf="submitted && f.cnic.errors?.required">Please enter your CNIC number</span>
                      <span class="text-danger" *ngIf="submitted && f.cnic.errors?.pattern">
                        Input allows only digits
                      </span>
                    </div>-->
                  </div>
                </div>
              </div>
              <!--Date of Birth and GENDER-->
              <div class="row no-gutters">
                <div class="col-12 col-sm-6">
                  <div class="form-group">
                    <input type="date" formControlName="dateOfBirth"
                           class="form-control" placeholder="Date of Birth" id="datePicker" max="{{registrationMaxdate}}"
                           [ngClass]="{ 'is-invalid': submitted &&  f.dateOfBirth.errors }">
                    <span class="text-danger" *ngIf=" submitted && f.dateOfBirth.errors?.required ">Please select date of birth</span>
                  </div>
                </div>
                <div class="col-12 col-sm-6">
                  <div class="form-group">
                    <select class="form-control" formControlName="gender" [ngClass]="{ 'is-invalid':submitted &&  f.gender.errors}" [value]="0">
                      <option value="" selected disabled>Gender</option>
                      <option value="Male">Male</option>
                      <option value="Female">Female</option>
                      <option value="Other">Other</option>
                    </select>
                    <span class="text-danger" *ngIf=" submitted && f.gender.errors?.required">{{genderErrorMessage}}</span>
                  </div>
                </div>
              </div>
              <!--User Type and City-->
              <div class="row no-gutters">
                <div class="col-12 col-sm-6" *ngIf="roleType=='1'">
                  <!--Tradesman-->
                  <div class="form-group">
                    <select class="form-control" formControlName="role"
                            [ngClass]="{'is-invalid':submitted &&  f.role.errors}" [value]="0">
                      <option value="" disabled selected>Select Business Type?</option>
                      <option value="1">Sole Trader</option>
                      <option value="2">Organization</option>
                    </select>
                    <span class="text-danger" *ngIf=" submitted && f.role.errors?.required">{{roleErrorMessage}}</span>
                  </div>
                </div>
                <div class="col-12 col-sm-6" *ngIf="roleType=='1'">
                  <div class="form-group">
                    <select class="form-control" formControlName="city" [ngClass]="{ 'is-invalid': submitted &&  f.city.errors}" [value]="0">
                      <option value="" selected disabled>City</option>
                      <option *ngFor="let item of idValueVm" value="{{item.value}}">{{item.value}}</option>
                    </select>
                    <span class="text-danger" *ngIf=" submitted && f.city.errors?.required">{{cityErrorMessage}}</span>
                  </div>
                </div>
                <div class="col-12 col-sm-12" *ngIf="roleType=='4'">
                  <!--Supplier-->
                  <div class="form-group">
                    <select id="city" class="form-control" formControlName="city" [ngClass]="{ 'is-invalid': submitted &&  f.city.errors}" [value]="0">
                      <option value="" selected disabled>City</option>
                      <option *ngFor="let item of idValueVm" value="{{item.id}}">{{item.value}}</option>
                    </select>
                    <span class="text-danger" *ngIf=" submitted && f.city.errors?.required">{{cityErrorMessage}}</span>
                  </div>
                </div>
              </div>
            </ng-container>
            <!-- City For Customer -->
            <div class="row" *ngIf="roleType=='3'">
              <!--Customer-->
              <div class="col-12 col-sm-12">
                <div class="form-group">
                  <select class="form-control" formControlName="city" [ngClass]="{ 'is-invalid': submitted &&  f.city.errors}" [value]="0">
                    <option value="" selected disabled>City</option>
                    <option *ngFor="let item of idValueVm" value="{{item.id}}">{{item.value}}</option>
                  </select>
                  <span class="text-danger" *ngIf=" submitted && f.city.errors?.required">{{cityErrorMessage}}</span>
                </div>
              </div>
            </div>


            <!--Pin Code-->
            <div class="row">
              <div class="col-12">
                <div class="form-group">
                  <label>Create your Pin Code</label>
                  <div class="nd-pincode-wrapper d-flex justify-content-between">
                    <input type="password" inputmode="numeric" autocomplete="off" (keypress)="numberOnly($event)"
                           [ngClass]="{ 'is-invalid': submitted &&  f.tab1.errors }" class="form-control" [readonly]="disableInput" id="first"
                           (keyup)="movetoNext('firs', 'second' , $event)" maxlength="1" formControlName="tab1" required (keydown)="$event.keyCode == 13 ? $event.preventDefault() : null" />

                    <input type="password" inputmode="numeric" class="form-control" (keypress)="numberOnly($event)"
                           [ngClass]="{ 'is-invalid': submitted &&  f.tab2.errors }" autocomplete="off" [readonly]="disableInput" id="second"
                           (keyup)="movetoNext('first', 'third' , $event)" maxlength="1" formControlName="tab2" required (keydown)="$event.keyCode == 13 ? $event.preventDefault() : null" />

                    <input type="password" inputmode="numeric" class="form-control" (keypress)="numberOnly($event)"
                           [ngClass]="{ 'is-invalid': submitted &&  f.tab3.errors }" autocomplete="off" [readonly]="disableInput" id="third"
                           (keyup)="movetoNext('second', 'fourth' , $event)" maxlength="1" formControlName="tab3" required (keydown)="$event.keyCode == 13 ? $event.preventDefault() : null" />

                    <input type="password" inputmode="numeric" class="form-control" (keypress)="numberOnly($event)"
                           [ngClass]="{ 'is-invalid': submitted &&  f.tab4.errors }" autocomplete="off" [readonly]="disableInput" id="fourth"
                           (keyup)="movetoNext('third', 'fifth' , $event)" maxlength="1" formControlName="tab4" required (keydown)="$event.keyCode == 13 ? $event.preventDefault() : null" />

                    <input type="password" inputmode="numeric" class="form-control" (keypress)="numberOnly($event)"
                           [ngClass]="{ 'is-invalid': submitted &&  f.tab5.errors }" autocomplete="off" [readonly]="disableInput"
                           (keyup)="movetoNext('fourth', 'fifth' , $event)" id="fifth" formControlName="tab5" maxlength="1" required (keydown)="$event.keyCode == 13 ? $event.preventDefault() : null" />
                  </div>
                  <span class="text-danger" *ngIf=" submitted && f.tab1.errors?.required ||  f.tab2.errors?.required ||  f.tab3.errors?.required ||  f.tab4.errors?.required ||  f.tab5.errors?.required ">{{passwordErrorMessage}}</span>

                </div>
              </div>
            </div>
            <!--Terms and Condtions-->
            <div class="row no-gutters align-items-center nd-tandc">
              <div class="col-12 col-sm-6">
                <div class="form-check">
                  <input type="checkbox" class="form-check-input"
                         formControlName="termsAndConditions" [ngClass]="{ 'is-invalid': submitted &&  f.termsAndConditions.errors }">
                  <label class="form-check-label fs-12" for="exampleCheck1">By Continuing,You Agree</label>
                </div>
              </div>
              <div class="mt-2 mt-sm-0 col-12 col-sm-6 d-flex justify-content-start justify-content-sm-end">
                <ng-container [ngSwitch]="roleType">
                  <a *ngSwitchCase="'1'" href="User/Agrements/TradesmanAgreement" target="_blank" class="mp-outine-btn">terms and conditions</a>
                  <a *ngSwitchCase="'3'" href="User/Agrements/UserAgreement" target="_blank" class="mp-outine-btn">terms and conditions</a>
                  <a *ngSwitchDefault href="User/Agrements/SupplierAgreement" target="_blank" class="mp-outine-btn">terms and conditions</a>
                </ng-container>
              </div>
              <span class="text-danger d-block mt-2 mt-sm-0" *ngIf=" submitted && f.termsAndConditions.errors?.required">{{termsAndConditionErrorMessage}}</span>
            </div>
            <div class="row">
              <div class="col-12">
                <div class="form-group">
                  <span class="text-danger" *ngIf="userAvailabilty">{{userAvailabiltyErrorMessage}}</span>
                </div>
              </div>
            </div>
            <!--<div class="row mt-4 mt-md-5 submit-btn">
              <div class="col-12">
                <button type="submit" class="mp-outine-btn btn-block py-3" (click)="VerifyAndSendOtp()">create account</button>
                <small class="text-center d-block mt-3 mb-3 mt-md-4 mb-md-4">Have an account?</small>
                <ng-container *ngIf="check.U; else tradesmanLogin">
                  <button class="mp-outine-btn btn-block py-3" [routerLink]="['/login/Customer']">sign in</button>
                </ng-container>
                <ng-template #tradesmanLogin>
                  <ng-container *ngIf="check.T; else supplierLogin">
                    <button class="mp-outine-btn btn-block py-3" [routerLink]="['/login/Tradesman']">sign in</button>
                  </ng-container>
                </ng-template>
                <ng-template #supplierLogin>
                  <button class="mp-outine-btn btn-block py-3" [routerLink]="['/login/Supplier']">sign in</button>
                </ng-template>
              </div>
            </div>-->
            <div class="row mt-4 mt-md-3 submit-btn">
              <div class="col-md-6">
                <button class="nlp-green-btn btn btn-block py-2" type="button" (click)="VerifyAndSendOtp()">Create account</button>
                <!--<button class="mp-outine-btn btn-block py-3">create account</button>-->
              </div>
              <div class="col-md-6">
                <ng-container *ngIf="check.U; else tradesmanLogin">
                  <button class="btn nlp-green-btn btn-block py-2" [routerLink]="['/login/Customer']">Login</button>
                </ng-container>
                <ng-template #tradesmanLogin>
                  <ng-container *ngIf="check.T; else supplierLogin">
                    <button class="btn nlp-green-btn btn-block py-2" [routerLink]="['/login/Tradesman']">Login</button>
                  </ng-container>
                </ng-template>
                <ng-template #supplierLogin>
                  <button class="btn nlp-green-btn btn-block py-2" [routerLink]="['/login/Supplier']">Login</button>
                </ng-template>
              </div>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<!--------------------------------------------- Block Account Message Modal --------------------------------------->

<div bsModal #blockAccountMessageModal="bs-modal" class="modal fade custom-model-style nd-verifyAccount" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content px-4 py-4">
      <div class="modal-header p-0">
        <h6 class="modal-title" id="exampleModalLongTitle" style="color: var(--redClr);"> ACCOUNT BLOCKED </h6>
        <hr class="hl mt-0">
      </div>
      <div class="modal-body p-0 mt-3">
        <p class="fos-14 mb-1" style="color:var(--headingClr)">Your Account has been blocked.</p>
        <p style="color:var(--headingClr)" class="fos-14 mb-1">Please contact with customer support.<b style="color:var(--greenClr)">PH:0309-9994534</b></p>
      </div>
      <div class="modal-footer p-0">
        <button type="button" class="mp-outine-btn" (click)="hideBlockModal()">CLOSE</button>
      </div>
    </div>
  </div>
</div>
